<!DOCTYPE html> <html> <head> <!-- Global site tag (gtag.js) - Google Analytics --> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-114344426-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-114344426-1'); </script> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Using JavaScript to Interact with CSS Variables</title> <!--<meta name="description" content="Continuing our introduction…">--> <meta name="description" content="Thoughts, tutorials, discussions, and interesting links on front end web development from Durham, North Carolina based front-end developer Patrick Cox"> <link rel="stylesheet" href="https://www.displayblog.io/assets/css/main.css"> <link rel="canonical" href="https://www.displayblog.io/using-js-to-interact-with-css-variables"> <link rel="alternate" type="application/rss+xml" title="display: blog" href="https://www.displayblog.io/feed.xml"> <link rel="icon" type"image/png" href="/favicon.png"> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Alfa+Slab+One"> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Gentium+Book+Basic"> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans"> <script src="https://www.displayblog.io/assets/js/modernizr.js"></script> <!-- Google AdSense --> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script> (adsbygoogle = window.adsbygoogle || []).push({ google_ad_client: "ca-pub-9502512915905186", enable_page_level_ads: true }); </script> </head> <body"> <main class="wrapper"> <header class="site-header"> <a href="#navbar" id="menu-burger" class="menu-burger">Menu <span class="nav-icon"></span> <svg x="0px" y="0px" width="54px" height="54px" viewBox="0 0 54 54"> <circle fill="transparent" stroke="#000000" stroke-width="1" cx="27" cy="27" r="25" stroke-dasharray="157 157" stroke-dashoffset="157"></circle> </svg> </a> <div id="navbar" class="navbar"> <div class="navigation-wrapper"> <div class="half-block"> <h2>Navigation</h2> <nav> <ul class="primary-nav"> <li><a href="/blog">Home</a></li> <li><a href="/about-display-blog">About</a></li> <li><a href="http://bpcoxjr.com" target="_blank">Bpcoxjr.com</a></li> <li><a href="http://linkedin.com/in/bpcoxjr" target="_blank"><i class="icon icon-linkedin"></i> LinkedIn</a></li> <li><a href="http://github.com/bpcoxjr" target="_blank"><i class="icon icon-github"></i> Github</a></li> <li><a href="http://twitter.com/display_blog" target="_blank"><i class="icon icon-twitter"></i> Twitter</a></li> <!--<li><a href="/feed.xml" target="_blank"><i class="icon icon-feed"></i> RSS</a></li>--> </ul> </nav> </div> </div> </div> </header> <article class="post" itemscope itemtype="http://schema.org/BlogPosting"> <header class="post-header intro"> <div class="intro-in"> <h1 class="post-title" itemprop="name headline">Using JavaScript to Interact with CSS Variables</h1> <p class="post-meta"><time datetime="2018-03-15T00:00:00-04:00" itemprop="datePublished">Mar 15, 2018</time></p> </div> </header> <div class="post-content container" itemprop="articleBody"> <h1 id="span-stylecolor-ac0863continuing-our-introductionspan"><span style="color: #ac0863;">Continuing our introduction…</span></h1> <p>Welcome to another tutorial. Today we’re going to talk about interacting with CSS variables using JavaScript. If you’ll recall from our <a href="http://www.displayblog.io/a-quick-intro-to-css-variables">introduction to CSS variables post</a>, one of the big advantages of the advent of CSS variables is their access to the DOM. We looked at how this meant we could easily update the value of a variable, using a media query as an example.</p> <p>Additionally, because of their DOM access, we can interact with CSS variables using JavaScript. Let’s take a look at how we might do that, using just a little bit of code.</p> <div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">let</span> <span class="nx">root</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">':root'</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">rootCSS</span> <span class="o">=</span> <span class="nx">getComputedStyle</span><span class="p">(</span><span class="nx">root</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">primaryColor</span> <span class="o">=</span> <span class="nx">rootCSS</span><span class="p">.</span><span class="nx">getPropertyValue</span><span class="p">(</span><span class="s1">'--primary-color'</span><span class="p">);</span></code></pre></div> <p>Okay, let’s look at what is going on here.</p> <p><span style="font-size: 1.25em; font-weight: bold; color: #ac0863;">1.</span>We use the built-in JS method <code>querySelector</code> to select the <code>:root</code>, which is the highest level parent element present in the DOM. This is almost always going to be <code>&lt;html&gt;</code>.</p> <p><span style="font-size: 1.25em; font-weight: bold; color: #ac0863;">2.</span> We use another built-in JS method, <code>getComputedStyle()</code> to grab all the CSS styles on the page.</p> <p><span style="font-size: 1.25em; font-weight: bold; color: #ac0863;">3.</span>We grab the <code>--primary-color</code> variable and store it in a local variable so that we can operate on it.</p> <p>If we were to run <code>console.log(primaryColor)</code> the hex value of the color would be printed to the console (i.e. <code>#ffffff</code> if it were white).</p> <p>Changing the value of <code>--primary-color</code> couldn’t be easier using yet another built-in JS method, <code>setProperty()</code>. Here’s how:</p> <div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">root</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">setProperty</span><span class="p">(</span><span class="s1">'--primary-color'</span><span class="p">,</span> <span class="s1">'#000000'</span><span class="p">)</span></code></pre></div> <p>So why would we want to do something like this? I can give you a real world, popular example: The Twitter app on your phone. The settings have a ‘Night Mode’ switch you can use to make it easier to read in the dark. All it does is swap a white background for a black one, and black print for white, and BOOM!…it’s easier on the eyes.</p> <p>Using the above code one could easily create a <code>html</code> toggle that calls a function that runs the above code when clicked, thus changing the primary color, then reversing the process when clicked again.</p> <p>There are of course countless other use cases for manipulating CSS variables in the DOM with JavaScript. Give it a try on your next project!</p> </div> </article> <footer class="site-footer"> <div class="container"> <ul class="social"> <li><a href="http://github.com/bpcoxjr" target="_blank"><i class="icon icon-github"></i></a></li> <li><a href="http://linkedin.com/in/bpcoxjr" target="_blank"><i class="icon icon-linkedin"></i></a></li> <li><a href="http://twitter.com/display_blog" target="_blank"><i class="icon icon-twitter"></i></a></li> </ul> <p> <small>&copy;2018 All rights reserved. Made with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> and ♥</small> </p> </div> </footer> </main> <script src="/assets/js/jquery-2.1.1.js"></script> <script src="/assets/js/main.js"></script> </body> </html><!-- by nandomoreira.me -->